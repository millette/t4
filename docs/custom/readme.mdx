# Spike Tournemain

> **Attention** je ne peux pas garantir que √ßa mettra le feu √† vos serveurs, ni le contraire.

S√©rieusement, n'utilisez pas √ßa projet (WIP) si vous tenez √† la s√©curit√© de vos serveurs. √Ä la limite, testez-le sur votre laptop ou mieux, un RasPi jettable! Vous √™tes avertis!

## Installation

```sh
git clone https://github.com/millette/t4.git
cd t4
# Comme la version actuelle √©crit carr√©ment sur des fichiers en git,
# il est recommand√© de partir sa propre branche.
# Remplacer NAME ou la chaine compl√®te par ce qui vous convient:
git checkout -b NAME-run-0
# Ensuite, on peut aller √† la branche master: git checkout master
# ou revenir √† notre branche: git checkout NAME-run-0
# sans sp√©cifier le '-b' qui cr√©er une nouvelle branche.
npm install
npm run build # patienter 1 minute... C'est plus rapide les prochaines fois √† cause du cache
npm run start
# Lancer Firefox ou whatever sur http://localhost:3000/ et hop!
```

Au lieu du build et start, on peut utiliser le mode dev:

```sh
npm run dev
# patienter un petit peu, √ßa devrait afficher
# [ ready ] compiled successfully - ready on http://localhost:3000
# Lancer Firefox ou whatever sur http://localhost:3000/ et hop!
```

### Build vs Dev

Le mode `build` est plus rapide √† l'usage tandis que le mode `dev` permet d'√©diter les sources qui constituent l'engin du site et supporte le auto-reload (notez l'icon en bas √† droite en mode `dev`).

## Notes

### DANGEREUX: MDX = React = JS

Le contenu en `MDX` est tr√®s puissant puisqu'en bout de ligne il est converti en JavaScript ex√©cutable dans le client et sur le serveur. Ce serait probablement facile d'inclure quelques lignes dans un `MDX` et effacer le fichier `/etc/passwd` - m'enfin, j'exag√®re un peu mais √ßa s'ex√©cute dans le contexte de celui qui a lanc√© le serveur.

## MDX vs Markdown

<https://mdxjs.com/>

> Markdown for the component era

> MDX is an authorable format that lets you seamlessly write JSX in your Markdown documents. You can import components, such as interactive charts or alerts, and embed them within your content. This makes writing long-form content with components a blast üöÄ.

Si vous connaissez `markdown` vous serez √† l'aise ici. `MDX` c'est grosso-modo du Markdown dans lequel on peut utiliser des composants `React`. Une fois process√©, un fichier MDX devient lui-m√™me un composant `React`.

### Liens

Utilisez la syntaxe `[TEXTE](URL)` habituelle pour faire des liens. Vous pouvez cr√©er des liens vers des pages qui n'existent pas pour les cr√©er √©ventuellement.

### Composants React

Le but d'utiliser `MDX` c'est de pouvoir composer les pages √† partir de plusieurs morceaux dynamiques et √©ventuellement ajouter √† cela un syst√®me de collection pour √©tablir des _layouts_ et _presets_.

Pour le moment, les seuls exemples inclus sont les composants `<Clock>` qui permet d'afficher l'heure en temps r√©el et `CustomPages` pour √©num√©rer les pages `custom`. Voyez la page <http://localhost:3000/custom/c666> pour un exemple _live_ et <http://localhost:3000/custom/ed/c666> pour consulter la source du `MDX` et l'√©diter. Ce n'est pas du tout utile sauf pour montrer que √ßa fonctionne comme pr√©vu.

**ATTENTION**: prenez soin de soumettre un MDX conforme quand vous √©ditez. Si vous utilisez des composants React (nos Clock et CustomPages) assurez-vous de fermer tous les tags comme si c'√©tait du xml ou du xhtml. Par exemple, utilisez `<br />` et jamais `<br>`. Pareil avec `<Clock />`, `<CustomPages />` et `<img ... />` pour n'en nommez que quelques uns.

Bient√¥t, on aura `<Profile>` pour afficher des profiles utilisateurs, `<TaggedWith>` pour √©num√©rer des contenus avec un mot-cl√© et d'autres trucs plus pratiques les uns que les autres.

## Theming

Maintenant que la base fonctionne, je compte int√©grer pour le _theming_

- [Theme UI](https://theme-ui.com/) - Build consistent, themeable React apps based on constraint-based design principles
- [Rebass](https://rebassjs.org/) - Rebass React primitive UI components built with Styled System
- [Styled System](https://styled-system.com/) - Style props for rapid UI development
- [Typography.js](http://kyleamathews.github.io/typography.js/) - A powerful toolkit for building websites with beautiful design.

On est loin du CSS de nos grands-parents. Je peux aussi mettre √ßa de c√¥t√© si y'a de vives oppositions, mais je l'ai test√© un peu dans <https://github.com/millette/stories> (avec du MDX aussi).

En th√©orie par contre, √ßa devrait permettre √† des utilisateurs moyens de mieux controller leur th√®me via une interface web (en √©ditant des variables finalement). Il existe aussi des th√®mes bien que les specs ne sont pas tr√®s matures encore. On peut voir quelques exemples sur le site de [typographyjs](http://kyleamathews.github.io/typography.js/) - notez le "pick theme" en haut √† droite.

<hr />

## Cat√©gories

- [df-t4](/custom/df-t4)
